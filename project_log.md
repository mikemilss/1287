# RFID Chess Board Project Log

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**: ESP32 WROOM
- **RFID –º–æ–¥—É–ª—å**: PN532 (NFC/RFID) - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ I2C
- **–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã**: 2 x HP4067 (16-–∫–∞–Ω–∞–ª—å–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º 8+12 –∫–∞–Ω–∞–ª–æ–≤)
- **–ê–Ω—Ç–µ–Ω–Ω—ã**: 96 RFID –∞–Ω—Ç–µ–Ω–Ω (–º–∞—Ç—Ä–∏—Ü–∞ 8x12)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ö–∞—Å–∫–∞–¥–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ - HP4067 –¥–ª—è —Å—Ç—Ä–æ–∫, HP4067 –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: PlatformIO

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã
- ‚úÖ PN532 –ø–æ I2C: –¢–û–õ–¨–ö–û SDA=21, SCL=22 (IRQ/RST –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- –ü–æ—Å—Ç—Ä–æ—á–Ω—ã–π –æ–ø—Ä–æ—Å –≤—Å–µ—Ö 96 —è—á–µ–µ–∫ –º–∞—Ç—Ä–∏—Ü—ã 8√ó12
- –ö–∞—Å–∫–∞–¥–Ω–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è: ROW_MUX (8 —Å—Ç—Ä–æ–∫) + COL_MUX (12 —Å—Ç–æ–ª–±—Ü–æ–≤) = 8√ó12 = 96 –ø–æ–∑–∏—Ü–∏–π
- HP4067: ROW –∏—Å–ø–æ–ª—å–∑—É–µ—Ç S0-S2 (8 –∫–∞–Ω–∞–ª–æ–≤), COL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç S0-S3 (12 –∫–∞–Ω–∞–ª–æ–≤)
- –û–±—â–∏–π Enable –ø–∏–Ω –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ GPIO
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è RFID –º–µ—Ç–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–µ

## –°—Ç–∞—Ç—É—Å: CODE SYNCHRONIZED - MATRIX 8√ó12
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PN532 –¥–ª—è I2C (SDA=21, SCL=22)
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤ HP4067 –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã 8√ó12
- [x] –ê–ª–≥–æ—Ä–∏—Ç–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã (–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π state machine)
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö RFID —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [x] –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è HP4067 + I2C –¥–ª—è 96 —è—á–µ–µ–∫
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ PlatformIO (src/, include/, test/)
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ README
- [x] –û—á–∏—Å—Ç–∫–∞ config.h –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–π
- [x] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è main.cpp —Å config.h –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã 8√ó12
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ C/C++ (extern "C")
- [x] ‚úÖ –û–ë–ù–û–í–õ–ï–ù–ò–ï: PN532 —Ç–æ–ª—å–∫–æ I2C (–±–µ–∑ IRQ/RST) - —ç–∫–æ–Ω–æ–º–∏—è 2 GPIO
- [x] ‚úÖ –°–û–ó–î–ê–ù–ò–ï: –î–µ—Ç–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è ASCII-—Å—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- [x] ‚úÖ –ö–û–ú–ü–ò–õ–Ø–¶–ò–Ø: –£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ esp32dev
- [x] ‚úÖ –ë–ò–ë–õ–ò–û–¢–ï–ö–ò: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Adafruit PN532 + BusIO –≤ lib/
- [x] ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø: Forward declarations, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
- [x] ‚úÖ –£–î–ê–õ–ï–ù–ò–ï: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è mini4x4 —É–±—Ä–∞–Ω–∞ (—Ñ–æ–∫—É—Å –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ 8√ó12)
- [x] ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï: –°–æ–∑–¥–∞–Ω I2C Scanner test –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ PN532
- [x] ‚úÖ –ò–ù–°–¢–†–£–ö–¶–ò–ò: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ –≤ README.md
- [x] ‚úÖ QUICK_START: –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
- [x] ‚úÖ –ê–î–ê–ü–¢–ê–¶–ò–Ø: GPIO –ø–∏–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ–¥ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] üéØ –¢–ï–ö–£–©–ò–ô –≠–¢–ê–ü: –§–∏–∑–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ PN532 –∏ I2C —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤ HP4067
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –∞–Ω—Ç–µ–Ω–Ω 2√ó2 ‚Üí 8√ó12
- [ ] –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ RFID —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
- **src/main.cpp**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Å –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º —Å–∫–∞–Ω–µ—Ä–æ–º
- **include/config.h**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∏–Ω–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã 8√ó12
- **test/hp4067_test.cpp**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤
- **platformio.ini**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ PlatformIO –¥–ª—è ESP32
- **README.md**: –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **wiring_diagram.txt**: –°—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª—é—á–∞—è 8√ó12

## –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ú–ê–¢–†–ò–¶–´ 8√ó12

### –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –ø–∏–Ω—ã HP4067:
- **ROW_MUX (8 —Å—Ç—Ä–æ–∫)**: S0=GPIO4, S1=GPIO5, S2=GPIO15, S3=GND
- **COL_MUX (12 —Å—Ç–æ–ª–±—Ü–æ–≤)**: S0=GPIO18, S1=GPIO19, S2=GPIO23, S3=GPIO25
- **–û–±—â–∏–π EN**: GPIO26 (–¥–ª—è –æ–±–æ–∏—Ö –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤ - —ç–∫–æ–Ω–æ–º–∏—è GPIO)

### –ê–¥—Ä–µ—Å–∞—Ü–∏—è:
- **–°—Ç—Ä–æ–∫–∏ 0-7**: 3-–±–∏—Ç–Ω–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è (S2,S1,S0)
- **–°—Ç–æ–ª–±—Ü—ã 0-11**: 4-–±–∏—Ç–Ω–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è (S3,S2,S1,S0)
- **–í—Å–µ–≥–æ —è—á–µ–µ–∫**: 8 √ó 12 = 96

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPIO:
- **–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã**: 7 S –ø–∏–Ω–æ–≤ + 1 EN –ø–∏–Ω = 8 GPIO (GPIO4,5,15,18,19,23,25,26)
- **I2C PN532**: SDA(21) + SCL(22) = 2 GPIO  
- **DUMMY –ø–∏–Ω—ã**: PN532_IRQ=255, PN532_RESET=255 (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç)
- **–ò–¢–û–ì–û**: 10 GPIO –∏–∑ 30+ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–∞ ESP32
- **–°–≤–æ–±–æ–¥–Ω–æ**: 20+ GPIO –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ**: GPIO 2,3 (–±—ã–≤—à–∏–µ IRQ/RST) –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á  
- **–î–æ—Å—Ç—É–ø–Ω–æ**: 20+ —Å–≤–æ–±–æ–¥–Ω—ã—Ö GPIO –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π

## –î–ï–¢–ê–õ–ò HP4067 - S –ü–ò–ù–´ (–£–ü–†–ê–í–õ–Ø–Æ–©–ò–ï –°–ò–ì–ù–ê–õ–´)

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã S –ø–∏–Ω–æ–≤:
- **S0** (–º–ª–∞–¥—à–∏–π –±–∏—Ç): –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –∫–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª 0,1,0,1,0,1,0,1
- **S1** (—Å—Ä–µ–¥–Ω–∏–π –±–∏—Ç): –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ø–æ –ø–∞—Ä–∞–º 0,0,1,1,0,0,1,1  
- **S2** (—Å—Ç–∞—Ä—à–∏–π –±–∏—Ç): –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ø–æ —á–µ—Ç–≤–µ—Ä–∫–∞–º 0,0,0,0,1,1,1,1
- **S3**: –ø—Ä–∏–≤—è–∑–∞–Ω –∫ GND (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è 8 –∫–∞–Ω–∞–ª–æ–≤)

### –õ–æ–≥–∏–∫–∞ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ (–∫–∞–Ω–∞–ª—ã 0-7):
```
–ö–∞–Ω–∞–ª ‚îÇ S2 ‚îÇ S1 ‚îÇ S0 ‚îÇ   –î–≤–æ–∏—á–Ω—ã–π –∫–æ–¥
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  0   ‚îÇ 0  ‚îÇ 0  ‚îÇ 0  ‚îÇ   000 = Y0
  1   ‚îÇ 0  ‚îÇ 0  ‚îÇ 1  ‚îÇ   001 = Y1
  2   ‚îÇ 0  ‚îÇ 1  ‚îÇ 0  ‚îÇ   010 = Y2
  3   ‚îÇ 0  ‚îÇ 1  ‚îÇ 1  ‚îÇ   011 = Y3
  4   ‚îÇ 1  ‚îÇ 0  ‚îÇ 0  ‚îÇ   100 = Y4
  5   ‚îÇ 1  ‚îÇ 0  ‚îÇ 1  ‚îÇ   101 = Y5
  6   ‚îÇ 1  ‚îÇ 1  ‚îÇ 0  ‚îÇ   110 = Y6
  7   ‚îÇ 1  ‚îÇ 1  ‚îÇ 1  ‚îÇ   111 = Y7
```

### –ö–æ–Ω—Ç—Ä–æ–ª—å Enable (EN):
- **EN = LOW (0V)**: –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä –í–ö–õ–Æ–ß–ï–ù - —Å–∏–≥–Ω–∞–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç
- **EN = HIGH (3.3V)**: –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä –í–´–ö–õ–Æ–ß–ï–ù - –≤—Å–µ –∫–∞–Ω–∞–ª—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ESP32:
- **ROW_MUX**: S0=GPIO4, S1=GPIO5, S2=GPIO15, S3=GND
- **COL_MUX**: S0=GPIO18, S1=GPIO19, S2=GPIO23, S3=GPIO25
- **–û–±—â–∏–π EN**: GPIO26 (–¥–ª—è –æ–±–æ–∏—Ö –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤)

### –ö–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–º:
```cpp
void setMuxChannel(int row, int col) {
    // ROW_MUX (GPIO4,5,15, S3=GND)
    digitalWrite(4, row & 0x01);  // S0
    digitalWrite(5, (row >> 1) & 0x01);  // S1
    digitalWrite(15, (row >> 2) & 0x01);  // S2
    // S3 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ GND
    
    // COL_MUX (GPIO18,19,23,25)  
    digitalWrite(18, col & 0x01);  // S0
    digitalWrite(19, (col >> 1) & 0x01);  // S1
    digitalWrite(23, (col >> 2) & 0x01);  // S2
    digitalWrite(25, (col >> 3) & 0x01);  // S3
}
```

## HP4067 - –†–ï–ñ–ò–ú 16 –ö–ê–ù–ê–õ–û–í (–ü–û–õ–ù–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ 16 –∫–∞–Ω–∞–ª–∞–º–∏:
–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è HP4067 –Ω—É–∂–Ω—ã **–í–°–ï 4 –ø–∏–Ω–∞: S0, S1, S2, S3**

### –ë–∏—Ç–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ 16 –∫–∞–Ω–∞–ª–æ–≤:
- **S0** (bit 0): 0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1 (–∫–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª)
- **S1** (bit 1): 0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1 (–ø–∞—Ä—ã –∫–∞–Ω–∞–ª–æ–≤)
- **S2** (bit 2): 0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1 (—á–µ—Ç–≤–µ—Ä–∫–∏ –∫–∞–Ω–∞–ª–æ–≤)
- **S3** (bit 3): 0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1 (–≤–æ—Å—å–º–µ—Ä–∫–∏ –∫–∞–Ω–∞–ª–æ–≤)

### –ü–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ (0-15):
```
–ö–∞–Ω–∞–ª ‚îÇ S3 ‚îÇ S2 ‚îÇ S1 ‚îÇ S0 ‚îÇ   –î–≤–æ–∏—á–Ω—ã–π    ‚îÇ  –í—ã—Ö–æ–¥
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  0   ‚îÇ 0  ‚îÇ 0  ‚îÇ 0  ‚îÇ 0  ‚îÇ   0000        ‚îÇ   Y0
  1   ‚îÇ 0  ‚îÇ 0  ‚îÇ 0  ‚îÇ 1  ‚îÇ   0001        ‚îÇ   Y1
  2   ‚îÇ 0  ‚îÇ 0  ‚îÇ 1  ‚îÇ 0  ‚îÇ   0010        ‚îÇ   Y2
  3   ‚îÇ 0  ‚îÇ 0  ‚îÇ 1  ‚îÇ 1  ‚îÇ   0011        ‚îÇ   Y3
  4   ‚îÇ 0  ‚îÇ 1  ‚îÇ 0  ‚îÇ 0  ‚îÇ   0100        ‚îÇ   Y4
  5   ‚îÇ 0  ‚îÇ 1  ‚îÇ 0  ‚îÇ 1  ‚îÇ   0101        ‚îÇ   Y5
  6   ‚îÇ 0  ‚îÇ 1  ‚îÇ 1  ‚îÇ 0  ‚îÇ   0110        ‚îÇ   Y6
  7   ‚îÇ 0  ‚îÇ 1  ‚îÇ 1  ‚îÇ 1  ‚îÇ   0111        ‚îÇ   Y7
  8   ‚îÇ 1  ‚îÇ 0  ‚îÇ 0  ‚îÇ 0  ‚îÇ   1000        ‚îÇ   Y8
  9   ‚îÇ 1  ‚îÇ 0  ‚îÇ 0  ‚îÇ 1  ‚îÇ   1001        ‚îÇ   Y9
 10   ‚îÇ 1  ‚îÇ 0  ‚îÇ 1  ‚îÇ 0  ‚îÇ   1010        ‚îÇ   Y10
 11   ‚îÇ 1  ‚îÇ 0  ‚îÇ 1  ‚îÇ 1  ‚îÇ   1011        ‚îÇ   Y11
 12   ‚îÇ 1  ‚îÇ 1  ‚îÇ 0  ‚îÇ 0  ‚îÇ   1100        ‚îÇ   Y12
 13   ‚îÇ 1  ‚îÇ 1  ‚îÇ 0  ‚îÇ 1  ‚îÇ   1101        ‚îÇ   Y13
 14   ‚îÇ 1  ‚îÇ 1  ‚îÇ 1  ‚îÇ 0  ‚îÇ   1110        ‚îÇ   Y14
 15   ‚îÇ 1  ‚îÇ 1  ‚îÇ 1  ‚îÇ 1  ‚îÇ   1111        ‚îÇ   Y15
```

### –ö–æ–¥ –¥–ª—è 16 –∫–∞–Ω–∞–ª–æ–≤:
```cpp
void setMux16Channel(int row, int col) {
    // ROW_MUX - 16 –∫–∞–Ω–∞–ª–æ–≤ (0-15)
    digitalWrite(ROW_S0, (row >> 0) & 0x01);  // bit 0
    digitalWrite(ROW_S1, (row >> 1) & 0x01);  // bit 1
    digitalWrite(ROW_S2, (row >> 2) & 0x01);  // bit 2
    digitalWrite(ROW_S3, (row >> 3) & 0x01);  // bit 3
    
    // COL_MUX - 16 –∫–∞–Ω–∞–ª–æ–≤ (0-15)  
    digitalWrite(COL_S0, (col >> 0) & 0x01);  // bit 0
    digitalWrite(COL_S1, (col >> 1) & 0x01);  // bit 1
    digitalWrite(COL_S2, (col >> 2) & 0x01);  // bit 2
    digitalWrite(COL_S3, (col >> 3) & 0x01);  // bit 3
}
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ESP32 (—Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º):
- **ROW_MUX**: S0=GPIO4, S1=GPIO5, S2=GPIO15, S3=GND (8 –∫–∞–Ω–∞–ª–æ–≤)
- **COL_MUX**: S0=GPIO18, S1=GPIO19, S2=GPIO23, S3=GPIO25 (12 –∫–∞–Ω–∞–ª–æ–≤)
- **–û–±—â–∏–π EN**: GPIO26 (–¥–ª—è –æ–±–æ–∏—Ö –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **8√ó8 –º–∞—Ç—Ä–∏—Ü–∞**: –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–Ω–∞–ª—ã 0-7 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —à–∞—Ö–º–∞—Ç–Ω–∞—è –¥–æ—Å–∫–∞)
- **16√ó16 –º–∞—Ç—Ä–∏—Ü–∞**: –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –∫–∞–Ω–∞–ª—ã 0-15 (256 —è—á–µ–µ–∫!)
- **–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã**: 12√ó8, 10√ó10, etc.

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è 16 –∫–∞–Ω–∞–ª–æ–≤:
1. **–ë–æ–ª—å—à–∏–µ –∏–≥—Ä–æ–≤—ã–µ –¥–æ—Å–∫–∏** (—à–∞—à–∫–∏ 10√ó10, –≥–æ 19√ó19)
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —à–∞—Ö–º–∞—Ç–Ω—ã–µ –¥–æ—Å–∫–∏** –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
3. **–°–∫–ª–∞–¥—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã** —Å RFID –º–µ—Ç–∫–∞–º–∏
4. **–°–µ–Ω—Å–æ—Ä–Ω—ã–µ –ø–∞–Ω–µ–ª–∏** –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

## –û–ü–¢–ò–ú–ê–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø HP4067 (–≠–ö–û–ù–û–ú–ò–Ø GPIO)

### –ü—Ä–∏–Ω—Ü–∏–ø: –†–ê–ó–î–ï–õ–¨–ù–´–ï S –ü–ò–ù–´ + –û–ë–©–ò–ô EN
- **S –ø–∏–Ω—ã**: –†–ê–ó–î–ï–õ–¨–ù–´–ï –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–∞ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å!)
- **EN –ø–∏–Ω**: –û–ë–©–ò–ô –¥–ª—è –æ–±–æ–∏—Ö –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤ (—ç–∫–æ–Ω–æ–º–∏—è GPIO)

### –ü–æ—á–µ–º—É S –ø–∏–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏:
```
–î–ª—è —è—á–µ–π–∫–∏ (—Å—Ç—Ä–æ–∫–∞=3, —Å—Ç–æ–ª–±–µ—Ü=5):
‚îú‚îÄ ROW_MUX –Ω—É–∂–µ–Ω –∞–¥—Ä–µ—Å 3: S2=0, S1=1, S0=1
‚îú‚îÄ COL_MUX –Ω—É–∂–µ–Ω –∞–¥—Ä–µ—Å 5: S2=1, S1=0, S0=1  
‚îî‚îÄ –†–ê–ó–ù–´–ï –∞–¥—Ä–µ—Å–∞ = –Ω—É–∂–Ω—ã –†–ê–ó–î–ï–õ–¨–ù–´–ï S –ø–∏–Ω—ã!
```

### –ü–æ—á–µ–º—É EN –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—â–∏–º:
- –û–±–∞ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–∞ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –û–î–ù–û–í–†–ï–ú–ï–ù–ù–û
- –ß–∏—Ç–∞–µ–º RFID —Å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —É–ø—Ä–æ—â–∞–µ—Ç –ª–æ–≥–∏–∫—É

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
```cpp
1. EN = HIGH              // –í—ã–∫–ª—é—á–∏—Ç—å –æ–±–∞ MUX
2. setRowAddress(3)       // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É 3
3. setColAddress(5)       // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü 5
4. EN = LOW               // –í–∫–ª—é—á–∏—Ç—å –û–ë–ê –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!
5. –ß–∏—Ç–∞—Ç—å RFID            // –° –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è (3,5)
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ESP32 (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞):
- **ROW_MUX**: S0=GPIO4, S1=GPIO5, S2=GPIO15, S3=GND
- **COL_MUX**: S0=GPIO18, S1=GPIO19, S2=GPIO23, S3=GPIO25
- **–û–ë–©–ò–ô EN**: GPIO26 (–¥–ª—è –æ–±–æ–∏—Ö –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤ - —ç–∫–æ–Ω–æ–º–∏—è GPIO)

### –≠–∫–æ–Ω–æ–º–∏—è GPIO:
- **–ë—ã–ª–æ –±—ã —Å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏ EN**: 7 –∞–∫—Ç–∏–≤–Ω—ã—Ö S –ø–∏–Ω–æ–≤ + 2 –ø–∏–Ω–∞ –¥–ª—è EN + 2 –ø–∏–Ω–∞ PN532 = 11 –ø–∏–Ω–æ–≤
- **–°—Ç–∞–ª–æ —Å –æ–±—â–∏–º EN**: 7 –∞–∫—Ç–∏–≤–Ω—ã—Ö S –ø–∏–Ω–æ–≤ + 1 –ø–∏–Ω –¥–ª—è EN + 2 –ø–∏–Ω–∞ PN532 = 10 –ø–∏–Ω–æ–≤
- **–≠–ö–û–ù–û–ú–ò–Ø –æ—Ç S3=GND**: –°—ç–∫–æ–Ω–æ–º–∏–ª–∏ 1 GPIO –ø–∏–Ω –Ω–∞ ROW_MUX! üéØ

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (I2C-ONLY + –í–ò–ó–£–ê–õ–¨–ù–ê–Ø –°–•–ï–ú–ê)

### –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï:
- **PN532**: –¢–û–õ–¨–ö–û I2C (SDA=21, SCL=22) = 2 GPIO + DUMMY(255,255)=0 GPIO
- **HP4067**: 7 –∞–∫—Ç–∏–≤–Ω—ã—Ö S –ø–∏–Ω–æ–≤ + 1 –æ–±—â–∏–π EN = 8 GPIO
- **–í–°–ï–ì–û GPIO**: 10 –∏–∑ 30+ ESP32 (–Ω–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö –ø–∏–Ω–æ–≤!)

### –°–•–ï–ú–ê:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è ASCII-—Å—Ö–µ–º–∞ –≤ `wiring_diagram.txt`
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±–ª–æ–∫-—Å—Ö–µ–º—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–∏–Ω–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –º–∞—Ç—Ä–∏—Ü—ã 8√ó12

### –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø:
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## –ü–õ–ê–ù –ü–û–õ–ù–û–ô –ú–ê–¢–†–ò–¶–´ 8√ó12 (96 –ê–ù–¢–ï–ù–ù)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- **–†–∞–∑–º–µ—Ä**: 320√ó480 –º–º (32√ó48 —Å–º)
- **–Ø—á–µ–π–∫–∏**: 40√ó40 –º–º –∫–∞–∂–¥–∞—è
- **–ê–Ω—Ç–µ–Ω–Ω—ã**: —Å–ø–∏—Ä–∞–ª—å–Ω—ã–µ 30 –º–º, 3-4 –≤–∏—Ç–∫–∞
- **–ò–Ω–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: ~3.2 ŒºH
- **–ß–∞—Å—Ç–æ—Ç–∞**: 13.56 MHz (NFC)

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:

**–í–ê–†–ò–ê–ù–¢ 1: –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø PCB**
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚ùå –°—Ç–æ–∏–º–æ—Å—Ç—å: $90-120
- ‚ùå –í—Ä–µ–º—è: 3-4 –Ω–µ–¥–µ–ª–∏

**–í–ê–†–ò–ê–ù–¢ 2: DIY –°–ê–ú–û–î–ï–õ–ö–ê**  
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –∏ –¥–µ—à–µ–≤–æ
- ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å: $35-50
- ‚úÖ –í—Ä–µ–º—è: 1-2 –Ω–µ–¥–µ–ª–∏
- ‚ùå –ú–Ω–æ–≥–æ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
1. **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã**: –ü–µ—Ä—Ñ–æ–ø–ª–∞—Ç–∞ + —ç–º–∞–ª—å-–ø—Ä–æ–≤–æ–¥ 0.3–º–º
2. **–ê–Ω—Ç–µ–Ω–Ω—ã**: 96 —Å–ø–∏—Ä–∞–ª—å–Ω—ã—Ö –∫–∞—Ç—É—à–µ–∫ 30–º–º
3. **–®–∏–Ω—ã**: 8 ROW + 12 COL –ø—Ä–æ–≤–æ–¥–æ–≤
4. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: –ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º HP4067
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ö–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–°–∫–æ—Ä–æ—Å—Ç—å**: 3.8 —Å–µ–∫ –ø–æ–ª–Ω—ã–π —Å–∫–∞–Ω
- **–î–∞–ª—å–Ω–æ—Å—Ç—å**: 2-5 —Å–º –æ—Ç –∞–Ω—Ç–µ–Ω–Ω—ã  
- **–¢–æ—á–Ω–æ—Å—Ç—å**: ¬±2 –º–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

## –û–¢–õ–ê–î–û–ß–ù–ê–Ø –í–ï–†–°–ò–Ø MAIN.CPP (–î–û–ë–ê–í–õ–ï–ù–û)

### –°–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ë–ï–ó –∞–Ω—Ç–µ–Ω–Ω:

### –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏:
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GPIO**: –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –ø–∏–Ω–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîÑ **–ü–æ—à–∞–≥–æ–≤–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**: –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤  
- üì° **PN532 —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: I2C —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ + –≤–µ—Ä—Å–∏—è –ø—Ä–æ—à–∏–≤–∫–∏
- üß™ **–ê–≤—Ç–æ—Ç–µ—Å—Ç**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤
- üéØ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é**: –ü–æ–ª–Ω–æ–µ —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é:
```
1 - –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2 - –°—Ç–∞—Ç—É—Å GPIO –ø–∏–Ω–æ–≤  
3 - –¢–µ—Å—Ç PN532
4 - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —è—á–µ–π–∫—É (–≤–≤–æ–¥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)
5 - –í—ã–∫–ª—é—á–∏—Ç—å –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã
6 - –í–∫–ª—é—á–∏—Ç—å –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã
7 - –¢–µ—Å—Ç –≤—Å–µ—Ö –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤
9 - –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ GPIO –ø–∏–Ω–∞
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤
- ‚úÖ I2C —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–∏—Å–∫–æ–º PN532 –Ω–∞ –∞–¥—Ä–µ—Å–µ 0x24
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ—à–∏–≤–∫–∏ PN532
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏–π –º–∞—Ç—Ä–∏—Ü—ã
- ‚úÖ –ü–æ—à–∞–≥–æ–≤–∞—è –æ—Ç–ª–∞–¥–∫–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

### –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:
- ‚úÖ **–ö–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω** –∏ –≥–æ—Ç–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω–æ–µ –º–µ–Ω—é** –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ **–ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üîÑ **–¢–ï–ö–£–©–ò–ô –≠–¢–ê–ü**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∂–µ–ª–µ–∑–∞

### –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø (–í–´–ü–û–õ–ù–ï–ù–û ‚úÖ):

**üéØ –£–°–ü–ï–®–ù–´–ï –¢–ï–°–¢–´:**
1. ‚úÖ **PN532 –ù–ê–ô–î–ï–ù –ò –†–ê–ë–û–¢–ê–ï–¢**: `I2C: 0x24 <- PN532!`
2. ‚úÖ **–í–µ—Ä—Å–∏—è –ø—Ä–æ—à–∏–≤–∫–∏**: `0x32010607` (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è)
3. ‚úÖ **GPIO –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã**: –í—Å–µ –ø–∏–Ω—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. ‚úÖ **–ê–≤—Ç–æ—Ç–µ—Å—Ç –º–∞—Ç—Ä–∏—Ü—ã**: –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ [0,0], [0,11], [7,0], [7,11], [3,5]
5. ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏–ª –Ω–∞ [3,2]
6. ‚úÖ **–ö–æ–º–ø–∏–ª—è—Ü–∏—è**: –ö–æ–¥ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (RAM: 6.7%, Flash: 22.7%)

**üìä –õ–û–ì–ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:**
```
üîç –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ I2C...
‚úÖ I2C: 0x24 <- PN532!
‚úÖ –í–µ—Ä—Å–∏—è –ø—Ä–æ—à–∏–≤–∫–∏: 0x32010607
‚úÖ PN532 —Ä–∞–±–æ—Ç–∞–µ—Ç!

üìä –°–¢–ê–¢–£–° GPIO:
ROW: S0=1 S1=1 S2=0
COL: S0=0 S1=1 S2=0 S3=0  
EN: 0 (–í–ö–õ)
‚úÖ –ê–Ω—Ç–µ–Ω–Ω–∞ [3,2] –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ PN532
```

**‚ö†Ô∏è –ú–ò–ù–û–†–ù–´–ï WARNING-–ò:**
- GPIO warnings –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- –í—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–¥–µ–∞–ª—å–Ω–æ

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í–´–ü–û–õ–ù–ï–ù–û
2. ‚úÖ **PN532 –ø—Ä–æ–≤–µ—Ä–∫–∞**: –£–°–ü–ï–®–ù–û 
3. ‚úÖ **–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã —Ç–µ—Å—Ç**: –£–°–ü–ï–®–ù–û
4. ‚úÖ **GPIO –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: –†–ê–ë–û–¢–ê–ï–¢
5. üîÑ **–¢–ï–ö–£–©–ò–ô –≠–¢–ê–ü**: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –º–∞—Ç—Ä–∏—Ü—ã –∞–Ω—Ç–µ–Ω–Ω 8√ó12 (96 —è—á–µ–µ–∫) 

# RFID Matrix 8√ó12 - –ñ—É—Ä–Ω–∞–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –≤—Å–µ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º RFID Matrix

### –ò—Å—Ö–æ–¥–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–ª –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º RFID Matrix 8√ó12 —Å ESP32 + PN532 + HP4067 –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å PN532.

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**: –í main.cpp –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã PN532_IRQ_DUMMY –∏ PN532_RESET_DUMMY (—Å—Ç—Ä–æ–∫–∏ –±—ã–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã)

2. **PN532 –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è**: –ú–æ–¥—É–ª—å –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª—Å—è –Ω–∞ I2C –∞–¥—Ä–µ—Å–µ 0x24, —Ç–∏–ø–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ESP32 + PN532

### –†–µ—à–µ–Ω–∏—è –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**:
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ config.h: PN532_IRQ_DUMMY=2, PN532_RESET_DUMMY=16
   - –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è (RAM: 7.2%, Flash: 22.9%)

2. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PN532**:
   - –°–æ–∑–¥–∞–Ω –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç I2C —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   - –í—ã—è–≤–ª–µ–Ω—ã –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏—Ö —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤, –ø—Ä–æ–±–ª–µ–º—ã –ø–∏—Ç–∞–Ω–∏—è)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ESP32 GPIO21/22 ‚Üí PN532 SDA/SCL (I2C)
- HP4067 –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã 8√ó12 (96 —è—á–µ–µ–∫)
- –¢—Ä–µ–±—É—é—Ç—Å—è –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã 3.3kŒ© –Ω–∞ I2C –ª–∏–Ω–∏—è—Ö

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- PN532 –≤—Å–µ –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è (—Ç—Ä–µ–±—É–µ—Ç –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫)
- I2C —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—Ä–æ—Å–∏–ª —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç —Å –Ω—É–ª—è:
- –ù–æ–≤—ã–π config.h —Å –±–∞–∑–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ I2C
- –ù–æ–≤—ã–π main.cpp —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è PN532
- –§—É–Ω–∫—Ü–∏–∏: I2C —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PN532, —á—Ç–µ–Ω–∏–µ NFC –∫–∞—Ä—Ç

### –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
–í –∫–æ–Ω—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª –ø–æ–ª–Ω—É—é –æ—á–∏—Å—Ç–∫—É –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –∫—Ä–æ–º–µ project_log.md. –ë—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã:
- include/, src/, lib/, test/ –ø–∞–ø–∫–∏  
- platformio.ini, README.md, wiring_diagram.txt
- –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ project_log.md —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞

### –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã
–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - –∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏—Ö —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤ 3.3kŒ© –Ω–∞ I2C –ª–∏–Ω–∏—è—Ö –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–∏—Ç–∞–Ω–∏—è PN532. –ö–æ–¥ –≥–æ—Ç–æ–≤, —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –∂–µ–ª–µ–∑–∞.

---

## üìÖ 2024-12-19: –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê - –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v2.0

### üéØ –¶–µ–ª—å
–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã RFID Matrix 8√ó12 —Å –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é.

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **–ù–ï–ë–õ–û–ö–ò–†–£–Æ–©–ê–Ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –Ω–∏–∫–∞–∫–∏—Ö delay() –∏–ª–∏ while() —Ü–∏–∫–ª–æ–≤
- **STATE MACHINE** - –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏  
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - 2.0 FPS (–≤ 8 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏)

### üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- `platformio.ini` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π (-O3)
- `include/config.h` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- `src/state_manager.h/cpp` - –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏–π

#### 2. **RFID —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
- `src/rfid_manager.h/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PN532 —Å –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º —á—Ç–µ–Ω–∏–µ–º
- `src/multiplexer.h/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HP4067 –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–∞–º–∏

#### 3. **–ú–∞—Ç—Ä–∏—Ü–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** 
- `src/scan_matrix.h/cpp` - –ª–æ–≥–∏–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–∞—Ä—Ç
- –¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 96 —è—á–µ–µ–∫
- –î–µ—Ç–µ–∫—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–∞—Ä—Ç (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ/–∑–∞–º–µ–Ω–∞)

#### 4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞**
- `src/display_manager.h/cpp` - –∫—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- Serial –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### –¢–∞–π–º–∏–Ω–≥–∏ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ 8 —Ä–∞–∑):
- **SCAN_DELAY_MS**: 5–º—Å (–±—ã–ª–æ 40–º—Å)
- **PN532_TIMEOUT**: 10–º—Å (–±—ã–ª–æ 50–º—Å)
- **MUX_SETTLE_TIME_US**: 2–º–∫—Å (–±—ã–ª–æ 10–º–∫—Å)

#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª**: 96 —è—á–µ–µ–∫ –∑–∞ ~0.5 —Å–µ–∫—É–Ω–¥—ã (–±—ã–ª–æ 3.8 —Å–µ–∫)
- **FPS**: 2.0 –∫–∞–¥—Ä–∞/—Å–µ–∫ (–±—ã–ª–æ 0.26 FPS)
- **–í—Ä–µ–º—è –Ω–∞ —è—á–µ–π–∫—É**: ~5.2–º—Å (–±—ã–ª–æ 40–º—Å)

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```
ESP32 GPIO21 (SDA) ‚Üí PN532 SDA + —Ä–µ–∑–∏—Å—Ç–æ—Ä 3.3kŒ© –∫ 3.3V
ESP32 GPIO22 (SCL) ‚Üí PN532 SCL + —Ä–µ–∑–∏—Å—Ç–æ—Ä 3.3kŒ© –∫ 3.3V
ESP32 GPIO4,5,15  ‚Üí HP4067 #1 (S0-S2, S3=GND) - —Å—Ç—Ä–æ–∫–∏ 0-7
ESP32 GPIO18,19,23,25 ‚Üí HP4067 #2 (S0-S3) - —Å—Ç–æ–ª–±—Ü—ã 0-11
ESP32 GPIO26      ‚Üí –û–±—â–∏–π EN –¥–ª—è –æ–±–æ–∏—Ö HP4067 (–∞–∫—Ç–∏–≤–Ω—ã–π LOW)
```

#### I2C –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –ß–∞—Å—Ç–æ—Ç–∞: 400kHz (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
- –ü–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã: 3.3kŒ© –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- –ê–¥—Ä–µ—Å PN532: 0x24

### üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã 8√ó12
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–∞—Ä—Ç
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤—Å–µ—Ö 96 —è—á–µ–µ–∫
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö PN532

#### Serial –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
- `status` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `matrix` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ç—Ä–∏—Ü—ã
- `rfid` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PN532
- `performance` - –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
- `full` - –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç
- `reset` - —Å–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `verbose/quiet` - —Ä–µ–∂–∏–º—ã –≤—ã–≤–æ–¥–∞
- `help` - —Å–ø—Ä–∞–≤–∫–∞

### üéõÔ∏è –°–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã (State Machine):
1. **STATE_INIT** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
2. **STATE_SCAN_CELL** - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —è—á–µ–π–∫–∏
3. **STATE_PROCESS_CARD** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã
4. **STATE_SWITCH_CELL** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —è—á–µ–π–∫—É
5. **STATE_UPDATE_DISPLAY** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è
6. **STATE_ERROR** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∞–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º

### üìä –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

#### CardInfo (–¥–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏):
```cpp
struct CardInfo {
    bool present;                    // –ö–∞—Ä—Ç–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
    uint8_t uid[7];                 // UID –∫–∞—Ä—Ç—ã
    uint8_t uidLength;              // –î–ª–∏–Ω–∞ UID
    unsigned long lastSeen;         // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
    bool changed;                   // –§–ª–∞–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è
};
```

#### PerformanceMetrics:
```cpp  
struct PerformanceMetrics {
    unsigned long totalScans;       // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
    unsigned long successfulReads;  // –£—Å–ø–µ—à–Ω—ã–µ —á—Ç–µ–Ω–∏—è
    unsigned long errors;           // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
    float currentFPS;               // –¢–µ–∫—É—â–∏–π FPS
};
```

### üîç –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ PN532 –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
- Fallback –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —è—á–µ–π–∫—É –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ
- –ü–æ–¥—Å—á–µ—Ç –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- –ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—à–∏–±–∫–∏

### üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏–π
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - 2.0 FPS
- **–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è** –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∫–∞—Ä—Ç (5–º—Å)
- **–ù–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –∞–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- **–î–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
1. **–ü–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã 3.3kŒ© –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´** –Ω–∞ –ª–∏–Ω–∏—è—Ö SDA/SCL
2. PN532 –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ 5V –≤–º–µ—Å—Ç–æ 3.3V –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
3. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ PN532: SW1=ON, SW2=OFF –¥–ª—è I2C —Ä–µ–∂–∏–º–∞
4. PN532_IRQ_DUMMY=255 –∏ PN532_RESET_DUMMY=255 - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç if(_pin != -1) –∏ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –ø–∏–Ω—ã
5. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ PN532 –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω (—Å –ø–æ–ø—ã—Ç–∫–∞–º–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)

### üîß –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ **–ö–æ–º–ø–∏–ª—è—Ü–∏—è**: –£–°–ü–ï–®–ù–û (0 –æ—à–∏–±–æ–∫, 0 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π)
- ‚úÖ **RAM**: 7.3% (24,064 / 327,680 –±–∞–π—Ç) 
- ‚úÖ **Flash**: 9.8% (309,085 / 3,145,728 –±–∞–π—Ç)
- ‚úÖ **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏**: –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–ø–∏–∏ (–±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑–∞–≥—Ä—É–∑–∫–∏)
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: -O3 –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**: 62 —Å–µ–∫—É–Ω–¥—ã

## üéØ **–§–ò–ù–ê–õ–¨–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**
**–°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–ê –ö –ü–†–û–ò–ó–í–û–î–°–¢–í–ï–ù–ù–û–ú–£ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**

‚úÖ –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –∫–æ–Ω–µ—á–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–æ–º  
‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (2.0 FPS, –≤ 8 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ)  
‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏  
‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö PN532  
‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ —á–µ—Ä–µ–∑ Serial –∫–æ–º–∞–Ω–¥—ã  
‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥  
‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ ESP32

**–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é PN532 + HP4067 –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ç—Ä–∏—Ü–µ–π 8√ó12 RFID –∞–Ω—Ç–µ–Ω–Ω.**

---

## üöÄ –ó–ê–ì–†–£–ó–ö–ê –ù–ê GITHUB (28.12.2024)

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω .gitignore –¥–ª—è PlatformIO –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω README.md —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ–º–º–∏—Ç (—Ö–µ—à: 97c1e9f)

### GitHub –ø—É–±–ª–∏–∫–∞—Ü–∏—è
- ‚úÖ **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω**: https://github.com/mikemilss/1287
- ‚úÖ **–£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: 120 –æ–±—ä–µ–∫—Ç–æ–≤, 98 —Ñ–∞–π–ª–æ–≤
- ‚úÖ **–í–µ—Ç–∫–∞ main –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ **HTTPS –¥–æ—Å—Ç—É–ø** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞

### –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ GitHub
üéØ **–ü—Ä–æ–µ–∫—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —Å–±–æ—Ä–∫–µ
- –ì–æ—Ç–æ–≤—ã–π –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∫–æ–¥ –¥–ª—è ESP32 + PN532
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è GPIO
- –í—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- Open source –ø—Ä–æ–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Ñ–æ—Ä–∫–æ–≤
- –ì–æ—Ç–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Issues –∏ Pull Requests
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è Releases –¥–ª—è –≤–µ—Ä—Å–∏–π –ø—Ä–æ—à–∏–≤–∫–∏

**üì° RFID Matrix 8√ó12 —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º—É –º–∏—Ä—É!** 