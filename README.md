# üì° RFID Matrix 8√ó12 Scanner

–°–∏—Å—Ç–µ–º–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è RFID –∫–∞—Ä—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ ESP32 —Å –º–∞—Ç—Ä–∏—Ü–µ–π –∞–Ω—Ç–µ–Ω–Ω 8√ó12 (96 –ø–æ–∑–∏—Ü–∏–π).

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–°–æ–±—ã—Ç–∏–π–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **96 –ø–æ–∑–∏—Ü–∏–π** - –º–∞—Ç—Ä–∏—Ü–∞ 8 —Å—Ç—Ä–æ–∫ √ó 12 —Å—Ç–æ–ª–±—Ü–æ–≤
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞ ~0.5 —Å–µ–∫
- **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏ —Å PN532

## üîß –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **ESP32** (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)
- **PN532** RFID –º–æ–¥—É–ª—å (I2C —Ä–µ–∂–∏–º)
- **2√ó HP4067** –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω—Ç–µ–Ω–Ω–∞–º–∏
- **96√ó RFID –∞–Ω—Ç–µ–Ω–Ω** (13.56 MHz)

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GPIO:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | GPIO | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|
| **PN532 I2C** | | |
| SDA | GPIO21 | I2C –¥–∞–Ω–Ω—ã–µ |
| SCL | GPIO22 | I2C —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **ROW MUX (—Å—Ç—Ä–æ–∫–∏ 0-7)** | | |
| S0 | GPIO4 | –ú–ª–∞–¥—à–∏–π –±–∏—Ç –∞–¥—Ä–µ—Å–∞ |
| S1 | GPIO5 | |
| S2 | GPIO15 | |
| S3 | GND | –°—Ç–∞—Ä—à–∏–π –±–∏—Ç = 0 |
| **COL MUX (—Å—Ç–æ–ª–±—Ü—ã 0-11)** | | |
| S0 | GPIO18 | –ú–ª–∞–¥—à–∏–π –±–∏—Ç –∞–¥—Ä–µ—Å–∞ |
| S1 | GPIO19 | |
| S2 | GPIO23 | |
| S3 | GPIO25 | –°—Ç–∞—Ä—à–∏–π –±–∏—Ç –∞–¥—Ä–µ—Å–∞ |
| **–û–±—â–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | | |
| EN | GPIO26 | –í–∫–ª—é—á–µ–Ω–∏–µ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–æ–≤ |

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∏—Ç–∞–Ω–∏—é:
- **ESP32**: 3.3V
- **PN532**: 3.3V –∏–ª–∏ 5V
- **HP4067**: 3.3V
- **–ü–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã**: 3.3kŒ© –Ω–∞ SDA/SCL –∫ 3.3V

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/username/rfid-matrix-8x12.git
cd rfid-matrix-8x12
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PlatformIO
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PlatformIO CLI
pip install platformio

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VS Code —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º PlatformIO
```

### 3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞
```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è
pio run

# –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ ESP32
pio run --target upload

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Serial
pio device monitor --port COM7 --baud 115200
```

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 main.cpp                    ‚îÇ
‚îÇ              (–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)                  ‚îÇ
‚îî‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
 ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ
 ‚ñº         ‚ñº         ‚ñº         ‚ñº         ‚ñº
ScanMatrix RFIDMgr  MuxMgr   Display   Config
‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ
‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ
‚ñº         ‚ñº         ‚ñº         ‚ñº         ‚ñº
96 —è—á–µ–µ–∫  PN532    HP4067   Serial    .h —Ñ–∞–π–ª—ã
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **ScanMatrix** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –º–∞—Ç—Ä–∏—Ü—ã
- **RFIDManager** - –†–∞–±–æ—Ç–∞ —Å PN532 –º–æ–¥—É–ª–µ–º
- **MultiplexerManager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HP4067 –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–∞–º–∏  
- **DisplayManager** - –í—ã–≤–æ–¥ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **StateManager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | ~0.5 —Å–µ–∫ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 2.0 FPS |
| –ó–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ —è—á–µ–π–∫—É | 5–º—Å |
| –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–∞ | 2–º–∫—Å |
| I2C —á–∞—Å—Ç–æ—Ç–∞ | 100kHz (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è) |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM | 7.3% |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Flash | 9.7% |

## üì° –°–æ–±—ã—Ç–∏–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **—Å–æ–±—ã—Ç–∏–π–Ω–æ–º —Ä–µ–∂–∏–º–µ** - –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –∫–∞—Ä—Ç:

```
>>> –ö–ê–†–¢–ê –û–ë–ù–ê–†–£–ñ–ï–ù–ê –≤ —è—á–µ–π–∫–µ [2,5] (–∏–Ω–¥–µ–∫—Å 29) <<<
>>> UID (4 –±–∞–π—Ç): A1 B2 C3 D4 <<<
```

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:
- **–ö–ê–†–¢–ê –î–û–ë–ê–í–õ–ï–ù–ê** - –Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –≤ —è—á–µ–π–∫–µ
- **–ö–ê–†–¢–ê –£–î–ê–õ–ï–ù–ê** - –∫–∞—Ä—Ç–∞ —É–±—Ä–∞–Ω–∞ –∏–∑ —è—á–µ–π–∫–∏  
- **–ö–ê–†–¢–ê –ò–ó–ú–ï–ù–ï–ù–ê** - –∫–∞—Ä—Ç–∞ –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ –¥—Ä—É–≥—É—é

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `include/config.h`:

```cpp
// –†–∞–∑–º–µ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã
#define MATRIX_ROWS             8
#define MATRIX_COLS             12
#define MATRIX_TOTAL_CELLS      96

// –¢–∞–π–º–∏–Ω–≥–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
#define SCAN_DELAY_MS           5      // 5–º—Å –º–µ–∂–¥—É —è—á–µ–π–∫–∞–º–∏
#define PN532_TIMEOUT_MS        10     // 10–º—Å —Ç–∞–π–º–∞—É—Ç RFID
#define MUX_SETTLE_TIME_US      2      // 2–º–∫—Å —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è

// I2C –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
#define I2C_FREQUENCY           100000 // 100kHz
#define PN532_SDA_PIN           21
#define PN532_SCL_PIN           22
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### Serial –∫–æ–º–∞–Ω–¥—ã:
```
status      - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
matrix      - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã  
rfid        - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ RFID
performance - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
reset       - —Å–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã:
- **–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã** - –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- **–ü–æ–ª–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—ã** - –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ü–∏–∫–ª–∞ 96 —è—á–µ–µ–∫
- **–°–æ–±—ã—Ç–∏—è –∫–∞—Ä—Ç** - –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### PN532 –Ω–µ –Ω–∞–π–¥–µ–Ω:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è I2C (SDA=21, SCL=22)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã 3.3kŒ©
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ PN532: SW1=ON, SW2=OFF
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ 5V –≤–º–µ—Å—Ç–æ 3.3V

### –û—à–∏–±–∫–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –°–Ω–∏–∑—å—Ç–µ —á–∞—Å—Ç–æ—Ç—É I2C –¥–æ 100kHz
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–∞–π–∫–∏
3. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—É—é—â–∏–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é

### –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–∞–µ—Ç:
1. –í–∫–ª—é—á–∏—Ç–µ Watchdog Timer
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–∏—Ç–∞–Ω–∏—è
3. –£–º–µ–Ω—å—à–∏—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ [Issues](https://github.com/username/rfid-matrix-8x12/issues).

---

**‚ö° –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 